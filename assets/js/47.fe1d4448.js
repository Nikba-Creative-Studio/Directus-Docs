(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{378:function(t,e,a){"use strict";a.r(e);var s=a(14),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"authentication"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#authentication"}},[t._v("#")]),t._v(" Authentication")]),t._v(" "),e("two-up",[e("template",{slot:"left"},[e("p",[t._v("By default, all data in the system is off limits for unauthenticated users. To gain access to protected data, you must include an access token with every request.")])]),t._v(" "),e("info-box",{attrs:{slot:"right",title:"Endpoints"},slot:"right"},[e("div",{staticClass:"language-endpoints extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  POST /:project/auth/authenticate\n  POST /:project/auth/refresh\n  POST /:project/auth/password/request\n  POST /:project/auth/password/reset\n   GET /:project/auth/sso\n   GET /:project/auth/sso/:provider\n   GET /:project/auth/sso/:provider/callback\n")])])])])],2),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"tokens"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tokens"}},[t._v("#")]),t._v(" Tokens")]),t._v(" "),e("two-up",[e("template",{slot:"left"},[e("p",[t._v("Tokens can be passed in one of three ways:")]),t._v(" "),e("h3",{attrs:{id:"authorization-header"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#authorization-header"}},[t._v("#")]),t._v(" Authorization Header")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Authorization: bearer <token>\n")])])]),e("p",[t._v("By default, apache servers strip the Authentication header from requests, and blocks directus from seeing it. Adding the option 'CGIPassAuth On' to the directory statement in the site configuration in apache will resolve this.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<Directory /var/www/directus/public/>\n    Options Indexes FollowSymLinks\n    AllowOverride All\n    Require all granted\n    CGIPassAuth On\n</Directory>\n")])])]),e("h3",{attrs:{id:"query-parameter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#query-parameter"}},[t._v("#")]),t._v(" Query Parameter")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("?access_token=<token>\n")])])]),e("h3",{attrs:{id:"cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[t._v("#")]),t._v(" Cookie")]),t._v(" "),e("p",[t._v("When authenticating through the "),e("code",[t._v("/auth/authenticate")]),t._v(" endpoint, you can instruct the API to set a cookie instead of returning the token as a string. This is the most secure option for building web-based applications, as this cookie can't be read from client side JavaScript. This cookie will also automatically refresh as long as you use it.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Cookie: directus-<project>-session=<token>\n")])])]),e("hr"),t._v(" "),e("p",[t._v("There are two types of tokens:")]),t._v(" "),e("h3",{attrs:{id:"temporary-jwt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#temporary-jwt"}},[t._v("#")]),t._v(" Temporary (JWT)")]),t._v(" "),e("p",[t._v("These tokens are generated through the "),e("code",[t._v("/auth/authenticate")]),t._v(" endpoint (below) and have a lifespan of 20 minutes. These tokens can be refreshed using the "),e("code",[t._v("/auth/refresh")]),t._v(" endpoint.")]),t._v(" "),e("h3",{attrs:{id:"static-token"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#static-token"}},[t._v("#")]),t._v(" Static token")]),t._v(" "),e("p",[t._v("Each user can have one static token that will never expire. This is useful for server-to-server communication, but is also less secure than the JWT token. Static tokens can only be set through the database directly in the "),e("code",[t._v("directus_users.token")]),t._v(" column.")])]),t._v(" "),e("template",{slot:"right"},[e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("See the Authenticate endpoint down below to learn how to retrieve a token.")])])])],2),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"retrieve-a-temporary-access-token"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#retrieve-a-temporary-access-token"}},[t._v("#")]),t._v(" Retrieve a Temporary Access Token")]),t._v(" "),e("two-up",[e("template",{slot:"left"},[e("h3",{attrs:{id:"parameters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("def-list",[e("h4",{attrs:{id:"project-required"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#project-required"}},[t._v("#")]),t._v(" project "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("The project you're targetting.")])]),t._v(" "),e("h3",{attrs:{id:"attributes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#attributes"}},[t._v("#")]),t._v(" Attributes")]),t._v(" "),e("def-list",[e("h4",{attrs:{id:"email-required"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#email-required"}},[t._v("#")]),t._v(" email "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("Email address of the user you're retrieving the access token for.")]),t._v(" "),e("h4",{attrs:{id:"password-required"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#password-required"}},[t._v("#")]),t._v(" password "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("Password of the user.")]),t._v(" "),e("h4",{attrs:{id:"mode-optional"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mode-optional"}},[t._v("#")]),t._v(" mode "),e("def-type",[t._v("optional")])],1),t._v(" "),e("p",[t._v("Choose between retrieving the token as a string, or setting it as a cookie. One of "),e("code",[t._v("jwt")]),t._v(", "),e("code",[t._v("cookie")]),t._v(". Defaults to "),e("code",[t._v("jwt")]),t._v(".")]),t._v(" "),e("h4",{attrs:{id:"otp-optional"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#otp-optional"}},[t._v("#")]),t._v(" otp "),e("def-type",[t._v("optional")])],1),t._v(" "),e("p",[t._v("If 2FA is enabled, you need to pass the one time password.")])]),t._v(" "),e("h3",{attrs:{id:"query"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#query"}},[t._v("#")]),t._v(" Query")]),t._v(" "),e("def-list",[e("p",[t._v("No query parameters available.")])]),t._v(" "),e("h3",{attrs:{id:"returns"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#returns"}},[t._v("#")]),t._v(" Returns")]),t._v(" "),e("p",[t._v("Returns the token (if "),e("code",[t._v("jwt")]),t._v(" mode is used) and the user record for the user you just authenticated as.")])],1),t._v(" "),e("template",{slot:"right"},[e("div",{staticClass:"sticky"},[e("info-box",{attrs:{title:"Endpoint"}},[e("div",{staticClass:"language-endpoints extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  POST /:project/auth/authenticate\n")])])])]),t._v(" "),e("info-box",{attrs:{title:"Request"}},[e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin@example.com"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"password"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),e("info-box",{attrs:{title:"Response"}},[e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"token"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eyJ0eXAiOi..."')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"user"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"active"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"role"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"first_name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Admin"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"last_name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"User"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin@example.com"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"timezone"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"America/New_York"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"locale"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en-US"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"locale_options"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"avatar"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"company"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"external_id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"theme"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"auto"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"2fa_secret"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"password_reset_token"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"public"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)])],2),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"refresh-a-temporary-access-token"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#refresh-a-temporary-access-token"}},[t._v("#")]),t._v(" Refresh a Temporary Access Token")]),t._v(" "),e("two-up",[e("template",{slot:"left"},[e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Cookie mode")]),t._v(" "),e("p",[t._v("You don't have to use this is you're using cookies for authentication.")])]),t._v(" "),e("h3",{attrs:{id:"parameters-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-2"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("def-list",[e("h4",{attrs:{id:"project-required-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#project-required-2"}},[t._v("#")]),t._v(" project "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("The project you're targetting.")])]),t._v(" "),e("h3",{attrs:{id:"attributes-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#attributes-2"}},[t._v("#")]),t._v(" Attributes")]),t._v(" "),e("def-list",[e("h4",{attrs:{id:"token-required"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#token-required"}},[t._v("#")]),t._v(" token "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("JWT access token you want to refresh. This token can't be expired.")])]),t._v(" "),e("h3",{attrs:{id:"query-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#query-2"}},[t._v("#")]),t._v(" Query")]),t._v(" "),e("def-list",[e("p",[t._v("No query parameters available.")])]),t._v(" "),e("h3",{attrs:{id:"returns-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#returns-2"}},[t._v("#")]),t._v(" Returns")]),t._v(" "),e("p",[t._v("Returns the new token.")])],1),t._v(" "),e("template",{slot:"right"},[e("div",{staticClass:"sticky"},[e("info-box",{attrs:{title:"Endpoint"}},[e("div",{staticClass:"language-endpoints extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  POST /:project/auth/refresh\n")])])])]),t._v(" "),e("info-box",{attrs:{title:"Request"}},[e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"token"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eyJ0eXAiOiJKV..."')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),e("info-box",{attrs:{title:"Response"}},[e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"token"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eyJ0eXAiOiJ..."')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"public"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)])],2),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"request-a-password-reset"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#request-a-password-reset"}},[t._v("#")]),t._v(" Request a Password Reset")]),t._v(" "),e("two-up",[e("template",{slot:"left"},[e("p",[t._v("Request a reset password email to be send.")]),t._v(" "),e("h3",{attrs:{id:"parameters-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-3"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("def-list",[e("h4",{attrs:{id:"project-required-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#project-required-3"}},[t._v("#")]),t._v(" project "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("The project you're targetting.")])]),t._v(" "),e("h3",{attrs:{id:"attributes-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#attributes-3"}},[t._v("#")]),t._v(" Attributes")]),t._v(" "),e("def-list",[e("h4",{attrs:{id:"email-required-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#email-required-2"}},[t._v("#")]),t._v(" email "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("Email address of the user you're requesting a reset for.")]),t._v(" "),e("h4",{attrs:{id:"reset-url-optional"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reset-url-optional"}},[t._v("#")]),t._v(" reset_url "),e("def-type",[t._v("optional")])],1),t._v(" "),e("p",[t._v("Provide a custom reset url which the link in the Email will lead to. The reset token will be passed as a parameter.")])]),t._v(" "),e("h3",{attrs:{id:"query-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#query-3"}},[t._v("#")]),t._v(" Query")]),t._v(" "),e("p",[t._v("No query parameters available.")]),t._v(" "),e("h3",{attrs:{id:"returns-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#returns-3"}},[t._v("#")]),t._v(" Returns")]),t._v(" "),e("p",[t._v("Sends the email. No data is returned.")])],1),t._v(" "),e("template",{slot:"right"},[e("div",{staticClass:"sticky"},[e("info-box",{attrs:{title:"Endpoint"}},[e("div",{staticClass:"language-endpoints extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  POST /:project/auth/password/request\n")])])])]),t._v(" "),e("info-box",{attrs:{title:"Request"}},[e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin@example.com"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"reset_url"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://mydomain/passwordreset"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)])],2),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"reset-a-password"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reset-a-password"}},[t._v("#")]),t._v(" Reset a Password")]),t._v(" "),e("two-up",[e("template",{slot:"left"},[e("p",[t._v("The request a password reset endpoint sends an email with a link to the admin app which in turn uses this endpoint to allow the user to reset their password.")]),t._v(" "),e("h3",{attrs:{id:"parameters-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-4"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("def-list",[e("h4",{attrs:{id:"project-required-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#project-required-4"}},[t._v("#")]),t._v(" project "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("The project you're targetting.")])]),t._v(" "),e("h3",{attrs:{id:"attributes-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#attributes-4"}},[t._v("#")]),t._v(" Attributes")]),t._v(" "),e("def-list",[e("h4",{attrs:{id:"password-required-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#password-required-2"}},[t._v("#")]),t._v(" password "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("New password for the user.")]),t._v(" "),e("h4",{attrs:{id:"token-required-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#token-required-2"}},[t._v("#")]),t._v(" token "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("One-time use JWT token that is used to verify the user.")])]),t._v(" "),e("h3",{attrs:{id:"query-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#query-4"}},[t._v("#")]),t._v(" Query")]),t._v(" "),e("p",[t._v("No query parameters available.")]),t._v(" "),e("h3",{attrs:{id:"returns-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#returns-4"}},[t._v("#")]),t._v(" Returns")]),t._v(" "),e("p",[t._v("Resets the password. No data is returned.")])],1),t._v(" "),e("template",{slot:"right"},[e("div",{staticClass:"sticky"},[e("info-box",{attrs:{title:"Endpoint"}},[e("div",{staticClass:"language-endpoints extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  POST /:project/auth/password/reset\n")])])])]),t._v(" "),e("info-box",{attrs:{title:"Request"}},[e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"token"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eyJ0eXAiOiJKV1Qi..."')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"password"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)])],2),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"list-the-sso-providers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#list-the-sso-providers"}},[t._v("#")]),t._v(" List the SSO Providers")]),t._v(" "),e("two-up",[e("template",{slot:"left"},[e("p",[t._v("List the SSO providers.")]),t._v(" "),e("h3",{attrs:{id:"parameters-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-5"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("def-list",[e("h4",{attrs:{id:"project-required-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#project-required-5"}},[t._v("#")]),t._v(" project "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("The project you're targetting.")])]),t._v(" "),e("h3",{attrs:{id:"query-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#query-5"}},[t._v("#")]),t._v(" Query")]),t._v(" "),e("p",[t._v("No query parameters available.")]),t._v(" "),e("h3",{attrs:{id:"returns-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#returns-5"}},[t._v("#")]),t._v(" Returns")]),t._v(" "),e("p",[t._v("Returns an array of active SSO provider names.")])],1),t._v(" "),e("template",{slot:"right"},[e("div",{staticClass:"sticky"},[e("info-box",{attrs:{title:"Endpoint"}},[e("div",{staticClass:"language-endpoints extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("   GET /:project/auth/sso\n")])])])]),t._v(" "),e("info-box",{attrs:{title:"Response"}},[e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"facebook"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"public"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)])],2),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"open-sso-provider"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#open-sso-provider"}},[t._v("#")]),t._v(" Open SSO Provider")]),t._v(" "),e("two-up",[e("template",{slot:"left"},[e("p",[t._v("Opens the provided SSO provider's login page.")]),t._v(" "),e("h3",{attrs:{id:"parameters-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-6"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("def-list",[e("h4",{attrs:{id:"project-required-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#project-required-6"}},[t._v("#")]),t._v(" project "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("The project you're targetting.")]),t._v(" "),e("h4",{attrs:{id:"provider-required"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#provider-required"}},[t._v("#")]),t._v(" provider "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("Key of the activated SSO provider.")])]),t._v(" "),e("h3",{attrs:{id:"query-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#query-6"}},[t._v("#")]),t._v(" Query")]),t._v(" "),e("def-list",[e("h4",{attrs:{id:"mode-required"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mode-required"}},[t._v("#")]),t._v(" mode "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("Controls if the API sets a cookie or returns a JWT on successful login. One of "),e("code",[t._v("jwt")]),t._v(", "),e("code",[t._v("cookie")])]),t._v(" "),e("h4",{attrs:{id:"redirect-url-required"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redirect-url-required"}},[t._v("#")]),t._v(" redirect_url "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("Where to redirect on successful login.")])]),t._v(" "),e("h3",{attrs:{id:"returns-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#returns-6"}},[t._v("#")]),t._v(" Returns")]),t._v(" "),e("p",[t._v("Opens the provider's login page.")])],1),t._v(" "),e("template",{slot:"right"},[e("div",{staticClass:"sticky"},[e("info-box",{attrs:{title:"Endpoint"}},[e("div",{staticClass:"language-endpoints extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("   GET /:project/auth/sso/:provider\n")])])])])],1)])],2),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"sso-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sso-callback"}},[t._v("#")]),t._v(" SSO Callback")]),t._v(" "),e("two-up",[e("template",{slot:"left"},[e("p",[t._v("This shouldn't be called by your project directly. This is the URL configured in your SSO provider to redirect to on successful login.")]),t._v(" "),e("h3",{attrs:{id:"parameters-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-7"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("def-list",[e("h4",{attrs:{id:"project-required-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#project-required-7"}},[t._v("#")]),t._v(" project "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("The project you're targetting.")]),t._v(" "),e("h4",{attrs:{id:"provider-required-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#provider-required-2"}},[t._v("#")]),t._v(" provider "),e("def-type",{attrs:{alert:""}},[t._v("required")])],1),t._v(" "),e("p",[t._v("Key of the activated SSO provider.")])]),t._v(" "),e("h3",{attrs:{id:"query-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#query-7"}},[t._v("#")]),t._v(" Query")]),t._v(" "),e("p",[t._v("Relies on the SSO provider to pass the correct query parameters.")]),t._v(" "),e("h3",{attrs:{id:"returns-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#returns-7"}},[t._v("#")]),t._v(" Returns")]),t._v(" "),e("p",[t._v("The token if "),e("code",[t._v("jwt")]),t._v(" mode is used, or sets a cookie and redirects to "),e("code",[t._v("redirect_url")]),t._v(" from the "),e("em",[t._v("Open SSO Provider")]),t._v(" request if "),e("code",[t._v("cookie")]),t._v(" mode is used.")])],1),t._v(" "),e("template",{slot:"right"},[e("div",{staticClass:"sticky"},[e("info-box",{attrs:{title:"Endpoint"}},[e("div",{staticClass:"language-endpoints extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("   GET /:project/auth/sso/:provider/callback\n")])])])])],1)])],2),t._v(" "),e("hr")],1)}),[],!1,null,null,null);e.default=r.exports}}]);