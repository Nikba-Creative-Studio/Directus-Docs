(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{460:function(t,s,a){"use strict";a.r(s);var e=a(14),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"installing-using-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installing-using-docker"}},[t._v("#")]),t._v(" Installing using Docker")]),t._v(" "),s("p",[t._v("If you're already familiar with Docker, you are probably looking for our official docker images over "),s("a",{attrs:{href:"https://hub.docker.com/r/directus/directus",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker Hub"),s("OutboundLink")],1),t._v(". We have more detailed information about our docker images on "),s("RouterLink",{attrs:{to:"/docker/overview.html"}},[t._v("our docker documentation page")]),t._v(".")],1),t._v(" "),s("h1",{attrs:{id:"quick-start"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#quick-start"}},[t._v("#")]),t._v(" Quick Start")]),t._v(" "),s("blockquote",[s("p",[t._v("Here's how you can get up and running fast with docker!")])]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#step-1-create-a-docker-compose-yaml-file"}},[t._v("Step 1: Create a docker-compose.yaml file")])]),s("li",[s("a",{attrs:{href:"#step-2-pull-the-latest-images"}},[t._v("Step 2: Pull the latest images")])]),s("li",[s("a",{attrs:{href:"#step-3-run-the-stack"}},[t._v("Step 3: Run the stack")])]),s("li",[s("a",{attrs:{href:"#step-4-initialize-the-database-and-an-admin-user"}},[t._v("Step 4: Initialize the database and an admin user")])]),s("li",[s("a",{attrs:{href:"#step-5-log-in"}},[t._v("Step 5: Log in")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"step-1-create-a-docker-compose-yaml-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-1-create-a-docker-compose-yaml-file"}},[t._v("#")]),t._v(" Step 1: Create a "),s("code",[t._v("docker-compose.yaml")]),t._v(" file")]),t._v(" "),s("p",[t._v("This docker-compose defines our database and Directus service and links them.")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("networks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("directus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mysql")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.7")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MYSQL_DATABASE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"directus"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MYSQL_USER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"directus"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MYSQL_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"directus"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MYSQL_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"directus"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3306:3306"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("networks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" directus\n\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("directus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" directus/directus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("v8"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("apache\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8080:80"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DIRECTUS_APP_ENV")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"production"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DIRECTUS_AUTH_PUBLICKEY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some random secret"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DIRECTUS_AUTH_SECRETKEY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"another random secret"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DIRECTUS_DATABASE_HOST")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mysql"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DIRECTUS_DATABASE_PORT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3306"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DIRECTUS_DATABASE_NAME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"directus"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DIRECTUS_DATABASE_USERNAME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"directus"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DIRECTUS_DATABASE_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"directus"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./data/config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/var/directus/config\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./data/uploads"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/var/directus/public/uploads    \n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("networks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" directus\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("For a full overview of all available environment variables, go to "),s("RouterLink",{attrs:{to:"/docker/environment.html"}},[t._v("Docker Environment Overview")]),t._v(".")],1)]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("When using this in production, please make sure to set the database user and password, and the auth public and secret keys to something more secure.")])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("If you already have another service running on port 8080 or 3306, change the values for "),s("code",[t._v("ports")]),t._v(" in the "),s("code",[t._v("docker-compose.yaml")]),t._v(" file above.")])]),t._v(" "),s("h2",{attrs:{id:"step-2-pull-the-latest-images"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-2-pull-the-latest-images"}},[t._v("#")]),t._v(" Step 2: Pull the latest images")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("docker-compose pull\n")])])]),s("h2",{attrs:{id:"step-3-run-the-stack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-3-run-the-stack"}},[t._v("#")]),t._v(" Step 3: Run the stack")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("docker-compose up -d\n")])])]),s("h2",{attrs:{id:"step-4-initialize-the-database-and-an-admin-user"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-4-initialize-the-database-and-an-admin-user"}},[t._v("#")]),t._v(" Step 4: Initialize the database and an admin user")]),t._v(" "),s("p",[t._v("Wait until Docker is done booting up the stack. You can check this by running "),s("code",[t._v("docker ps")]),t._v(". When it's done, run the following command to finish up installation of Directus.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("docker-compose run --rm directus install --email email@example.com --password d1r3ctu5\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("Make sure to substitute "),s("code",[t._v("email@example.com")]),t._v(" and "),s("code",[t._v("d1r3ctu5")]),t._v(" with your preferred email and password.")])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("HTTPS")]),t._v(" "),s("p",[t._v("You are required to run Directus using HTTPS.")])]),t._v(" "),s("h2",{attrs:{id:"step-5-log-in"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-5-log-in"}},[t._v("#")]),t._v(" Step 5: Log in")]),t._v(" "),s("p",[t._v("Navigate to "),s("code",[t._v("http://localhost:8080/admin/#/login")]),t._v(" and log in with the credentials in the previous step.")])])}),[],!1,null,null,null);s.default=n.exports}}]);