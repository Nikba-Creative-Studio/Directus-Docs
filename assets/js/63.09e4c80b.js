(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{394:function(e,t,a){"use strict";a.r(t);var o=a(14),s=Object(o.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"filter"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#filter"}},[e._v("#")]),e._v(" Filter")]),e._v(" "),t("h3",{attrs:{id:"filtering"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#filtering"}},[e._v("#")]),e._v(" Filtering")]),e._v(" "),t("p",[e._v("Used to search items in a collection that matches the filter's conditions. Filters follow the syntax "),t("code",[e._v("filter[<field-name>][<operator>]=<value>")]),e._v(". The "),t("code",[e._v("field-name")]),e._v(" supports dot-notation to filter on nested relational fields.")]),e._v(" "),t("h4",{attrs:{id:"filter-operators"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#filter-operators"}},[e._v("#")]),e._v(" Filter Operators")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Operator")]),e._v(" "),t("th",[e._v("Description")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[t("code",[e._v("=")]),e._v(", "),t("code",[e._v("eq")])]),e._v(" "),t("td",[e._v("Equal to")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("<>")]),e._v(", "),t("code",[e._v("!=")]),e._v(", "),t("code",[e._v("neq")])]),e._v(" "),t("td",[e._v("Not equal to")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("<")]),e._v(", "),t("code",[e._v("lt")])]),e._v(" "),t("td",[e._v("Less than")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("<=")]),e._v(", "),t("code",[e._v("lte")])]),e._v(" "),t("td",[e._v("Less than or equal to")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v(">")]),e._v(", "),t("code",[e._v("gt")])]),e._v(" "),t("td",[e._v("Greater than")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v(">=")]),e._v(", "),t("code",[e._v("gte")])]),e._v(" "),t("td",[e._v("Greater than or equal to")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("in")])]),e._v(" "),t("td",[e._v("Exists in one of the values")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("nin")])]),e._v(" "),t("td",[e._v("Not in one of the values")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("null")])]),e._v(" "),t("td",[e._v("It is null")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("nnull")])]),e._v(" "),t("td",[e._v("It is not null")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("contains")]),e._v(", "),t("code",[e._v("like")])]),e._v(" "),t("td",[e._v("Contains the substring")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("ncontains")]),e._v(", "),t("code",[e._v("nlike")])]),e._v(" "),t("td",[e._v("Doesn't contain the substring")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("rlike")])]),e._v(" "),t("td",[e._v("Contains a substring using a wildcard")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("nrlike")])]),e._v(" "),t("td",[e._v("Not contains a substring using a wildcard")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("between")])]),e._v(" "),t("td",[e._v("The value is between two values")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("nbetween")])]),e._v(" "),t("td",[e._v("The value is not between two values")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("empty")])]),e._v(" "),t("td",[e._v("The value is empty (null or falsy)")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("nempty")])]),e._v(" "),t("td",[e._v("The value is not empty (null or falsy)")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("all")])]),e._v(" "),t("td",[e._v("Contains all given related item's IDs")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("has")])]),e._v(" "),t("td",[e._v("Has one or more related items's IDs")])])])]),e._v(" "),t("h5",{attrs:{id:"filter-raw-like"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#filter-raw-like"}},[e._v("#")]),e._v(" Filter: Raw Like")]),e._v(" "),t("p",[e._v("The wildcards character for "),t("code",[e._v("rlike")]),e._v(" and "),t("code",[e._v("nrlike")]),e._v(" are "),t("code",[e._v("%")]),e._v(" (percentage) and "),t("code",[e._v("_")]),e._v(" (underscore).")]),e._v(" "),t("blockquote",[t("p",[e._v("From MySQL Docs: https://dev.mysql.com/doc/refman/5.7/en/string-comparison-functions.html#operator_like\n% matches any number of characters, even zero characters.\n_ matches exactly one character.")]),e._v(" "),t("p",[t("code",[e._v("JOHN%")]),e._v(" will return matches "),t("code",[e._v("John")]),e._v(", "),t("code",[e._v("Johnson")]),e._v(", "),t("code",[e._v("Johnny")]),e._v(", "),t("code",[e._v("Johnathan")]),e._v(", etc. "),t("br"),e._v(" "),t("code",[e._v("JO%N%")]),e._v(" will return the above matches, as well as "),t("code",[e._v("Jon")]),e._v(", "),t("code",[e._v("Jonny")]),e._v(", "),t("code",[e._v("Joan")]),e._v(", "),t("code",[e._v("Joanne")]),e._v(", "),t("code",[e._v("Jones")]),e._v(", etc. "),t("br"),e._v(" "),t("code",[e._v("J_N%")]),e._v(" will return "),t("code",[e._v("Janice")]),e._v(", "),t("code",[e._v("Jane")]),e._v(", "),t("code",[e._v("Jones")]),e._v(", "),t("code",[e._v("Jinn")]),e._v(", "),t("code",[e._v("Jennifer")]),e._v(", "),t("code",[e._v("Junior")]),e._v(", etc. "),t("br"),e._v(" "),t("code",[e._v("J_N__")]),e._v(" will return "),t("code",[e._v("Jonas")]),e._v(", "),t("code",[e._v("Jenny")]),e._v(", "),t("code",[e._v("Janie")]),e._v(", "),t("code",[e._v("Jones")]),e._v(", etc.")])]),e._v(" "),t("h5",{attrs:{id:"filter-relational"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#filter-relational"}},[e._v("#")]),e._v(" Filter: Relational")]),e._v(" "),t("p",[e._v("You can use dot notation on relational field. Using the same format: "),t("code",[e._v("filter[<field-name>][<operator>]=<value>")]),e._v(" with the only difference "),t("code",[e._v("<field-name>")]),e._v(" can reference a field from the related collection.")]),e._v(" "),t("p",[e._v("If you have a "),t("code",[e._v("projects")]),e._v(" collection with a field named "),t("code",[e._v("author")]),e._v(" that's related to another collection named "),t("code",[e._v("users")]),e._v(" you can reference any "),t("code",[e._v("users")]),e._v(" field using dot notation; Example: "),t("code",[e._v("author.<any-users-field>")]),e._v(".")]),e._v(" "),t("p",[e._v("The example below uses the "),t("code",[e._v("rlike")]),e._v(" filter to get all projects that belongs to users that has a "),t("code",[e._v("@directus.io")]),e._v(" domain email. In other words ends with "),t("code",[e._v("@directus.io")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("GET /items/projects?filter[author.email][rlike]=%@directus.io\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),t("p",[e._v("Make sure the field is a relational field before using the dot-notation, otherwise the API will return an error saying the field cannot be found.")])]),e._v(" "),t("p",[e._v("You can reference as many field as possible, as long as they are all relational field, except the last one, it could be either relational or non-relational.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("GET /items/users?filter[comments.thread.title][like]=Directus\n")])])]),t("p",[e._v("In the example above it will returns all users that have comments in a thread that has "),t("code",[e._v("Directus")]),e._v(" in its title.")]),e._v(" "),t("p",[e._v("There's two filter "),t("code",[e._v("has")]),e._v(" and "),t("code",[e._v("all")]),e._v(" that only works on "),t("code",[e._v("O2M")]),e._v("-type fields, any other type of fields used will throw an error saying the field cannot be found.")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("all")]),e._v(" filter will returns items that contains all IDs passed.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("GET /items/projects?filter[contributors][all]=1,2,3\n")])])]),t("p",[e._v("The example above will return all projects that have the user with ID 1, 2, and 3 as collaborator.")]),e._v(" "),t("p",[e._v("Using "),t("code",[e._v("has")]),e._v(" will return items with at least that minimum number of related items.")]),e._v(" "),t("p",[e._v("Example of requesting projects with at least one contributor:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("GET /items/projects?filter[contributors][has]=1\n")])])]),t("p",[e._v("Example of requesting projects with at least three contributors:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("GET /items/projects?filter[contributors][has]=3\n")])])]),t("h4",{attrs:{id:"and-vs-or"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#and-vs-or"}},[e._v("#")]),e._v(" AND vs OR")]),e._v(" "),t("p",[e._v("By default, all chained filters are treated as ANDs, which means "),t("em",[e._v("all")]),e._v(" conditions must match. To create an OR combination, you can add the "),t("code",[e._v("logical")]),e._v(" operator, as shown below:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("GET /items/projects?filter[category][eq]=development&filter[category][logical]=or&filter[category][like]=design\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),t("p",[e._v("In many cases, it makes more sense to use the "),t("code",[e._v("in")]),e._v(" operator instead of going with the logical-or. For example, the above example can be rewritten as")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("GET /items/projects?filter[category][in]=development,design\n")])])])]),e._v(" "),t("h4",{attrs:{id:"filtering-by-dates-and-times"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#filtering-by-dates-and-times"}},[e._v("#")]),e._v(" Filtering by Dates and Times")]),e._v(" "),t("p",[e._v("The format for date is "),t("code",[e._v("YYYY-MM-DD")]),e._v(" and for datetime is "),t("code",[e._v("YYYY-MM-DD HH:MM:SS")]),e._v(". This formats translate to "),t("code",[e._v("2018-08-29 14:51:22")]),e._v(".")]),e._v(" "),t("ul",[t("li",[e._v("Year in "),t("code",[e._v("4")]),e._v(" digits")]),e._v(" "),t("li",[e._v("Months, days, minutes and seconds in two digits, adding leading zero padding when it's a one digit month")]),e._v(" "),t("li",[e._v("Hour in 24 hour format")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# Equals to\nGET /items/comments?filter[datetime]=2018-05-21 15:48:03\n\n# Greater than\nGET /items/comments?filter[datetime][gt]=2018-05-21 15:48:03\n\n# Greater than or equal to\nGET /items/comments?filter[datetime][gte]=2018-05-21 15:48:03\n\n# Less than\nGET /items/comments?filter[datetime][lt]=2018-05-21 15:48:03\n\n# Less than or equal to\nGET /items/comments?filter[datetime][lte]=2018-05-21 15:48:03\n\n# Between two date\nGET /items/comments?filter[datetime][between]=2018-05-21 15:48:03,2018-05-21 15:49:03\n")])])]),t("p",[e._v("For "),t("code",[e._v("date")]),e._v(" and "),t("code",[e._v("datetime")]),e._v(" type, "),t("code",[e._v("now")]),e._v(' can be used as value for "current server time".')]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# Equals to\nGET /items/comments?filter[datetime]=now\n\n# Greater than\nGET /items/comments?filter[datetime][gt]=now\n\n# Between two date\nGET /items/comments?filter[datetime][between]=2018-05-21 15:48:03,now\n")])])]),t("p",[e._v("When the field belongs to a Directus collection, "),t("code",[e._v("now")]),e._v(" is converted to a UTC date/datetime.")])])}),[],!1,null,null,null);t.default=s.exports}}]);