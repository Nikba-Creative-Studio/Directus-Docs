(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{370:function(t,e,s){"use strict";s.r(e);var a=s(14),n=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"configuring-the-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuring-the-api"}},[t._v("#")]),t._v(" Configuring the API")]),t._v(" "),e("blockquote",[e("p",[t._v("Each API project configuration is contained within a dedicated file in the "),e("code",[t._v("/config")]),t._v(" directory. Additionally, this process adds a boilerplate system schema into the project's database.")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("If you are using Apache, make sure "),e("code",[t._v("mod_rewrite")]),t._v(" and "),e("code",[t._v("AllowOverride")]),t._v(" are enabled. "),e("RouterLink",{attrs:{to:"/advanced/server-setup.html#apache"}},[t._v("Read more")])],1)]),t._v(" "),e("h2",{attrs:{id:"project-config-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#project-config-files"}},[t._v("#")]),t._v(" Project Config Files")]),t._v(" "),e("p",[t._v("Each API instance can manage multiple projects. Each project has its own config, database, and file storage. Any extensions installed in the API will be available for all projects it manages.")]),t._v(" "),e("p",[t._v("Projects can be added with new config files, using this naming convention: "),e("code",[t._v("config/{my-project}.php")]),t._v(". Each project's config should point to a dedicated database and unique storage paths. Once configured, the API URL will be scoped to the project, eg: "),e("code",[t._v("https://api.example.com/my-project/collections")]),t._v(".")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("All the available API options are available in the "),e("code",[t._v("config/_example.php")]),t._v(" file :\nhttps://github.com/directus/directus/blob/master/config/_example.php")])]),t._v(" "),e("h3",{attrs:{id:"private-public-projects"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#private-public-projects"}},[t._v("#")]),t._v(" Private / Public Projects")]),t._v(" "),e("p",[t._v("By default, the API will return all available projects in the API through the "),e("code",[t._v("/server/projects")]),t._v(" endpoint. If you would like to prevent a project key from being returned in this endpoint, you can prepend the config file name with "),e("code",[t._v("private.")]),t._v(" (for example "),e("code",[t._v("my-project.php")]),t._v(" -> "),e("code",[t._v("private.my-project.php")]),t._v(").")]),t._v(" "),e("p",[t._v("Accessing a private project through the app can be done by linking directly to a scoped page (eg "),e("code",[t._v("/#/my-project/collections")]),t._v(") or adding the projects query parameter to the path (eg "),e("code",[t._v("/#/login?project=my-project")]),t._v("). This will force the app to try to read the project information from the given project. These methods can also be used to pre-select a project from the dropdown.")]),t._v(" "),e("h3",{attrs:{id:"database-details"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#database-details"}},[t._v("#")]),t._v(" Database Details")]),t._v(" "),e("p",[t._v("Next, update the "),e("code",[t._v("database")]),t._v(" values with your own:")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'database'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'type'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'mysql'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'host'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'localhost'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'port'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3306")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'name'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'directus_test'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'username'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'root'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'password'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'root'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'engine'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'InnoDB'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'charset'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'utf8mb4'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("h3",{attrs:{id:"auth-keys"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#auth-keys"}},[t._v("#")]),t._v(" Auth Keys")]),t._v(" "),e("p",[t._v("These keys can be anything, but we recommend a “strong” and unique value. They are unique identifiers that ensure your auth tokens are only able to be used within this project.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("'auth' => [\n  'secret_key' => '<secret-authentication-key>',\n  'public_key' => '<public-authentication-key>',\n  'social_providers' => [ ... ]\n")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);