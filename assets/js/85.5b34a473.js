(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{417:function(e,t,r){"use strict";r.r(t);var a=r(14),s=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"directus-with-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#directus-with-docker"}},[e._v("#")]),e._v(" Directus with Docker")]),e._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#about"}},[e._v("About")])]),t("li",[t("a",{attrs:{href:"#configuring"}},[e._v("Configuring")]),t("ul",[t("li",[t("a",{attrs:{href:"#disabling-environment-variables"}},[e._v("Disabling environment variables")])])])]),t("li",[t("a",{attrs:{href:"#tags"}},[e._v("Tags")]),t("ul",[t("li",[t("a",{attrs:{href:"#kind"}},[e._v("Kind")])]),t("li",[t("a",{attrs:{href:"#versions"}},[e._v("Versions")])])])]),t("li",[t("a",{attrs:{href:"#ports"}},[e._v("Ports")])]),t("li",[t("a",{attrs:{href:"#ssl"}},[e._v("SSL")])]),t("li",[t("a",{attrs:{href:"#volumes"}},[e._v("Volumes")]),t("ul",[t("li",[t("a",{attrs:{href:"#configuration-files"}},[e._v("Configuration files")])]),t("li",[t("a",{attrs:{href:"#uploads"}},[e._v("Uploads")])])])]),t("li",[t("a",{attrs:{href:"#examples"}},[e._v("Examples")])]),t("li",[t("a",{attrs:{href:"#issues"}},[e._v("Issues")])])])]),t("p"),e._v(" "),t("h2",{attrs:{id:"about"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#about"}},[e._v("#")]),e._v(" About")]),e._v(" "),t("p",[e._v("Directus provides several container images that will help you get started. Currently, all our container images are published in "),t("a",{attrs:{href:"https://hub.docker.com/r/directus/directus",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Hub"),t("OutboundLink")],1),e._v(" as "),t("code",[e._v("directus/directus")])]),e._v(" "),t("h2",{attrs:{id:"configuring"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuring"}},[e._v("#")]),e._v(" Configuring")]),e._v(" "),t("p",[e._v("Directus images can be configured using environment variables. These variables follow the same structure present in configuration files to make it easier for you to find which variable you need to change.")]),e._v(" "),t("p",[e._v("To see all available variables, please check the "),t("RouterLink",{attrs:{to:"/docker/environment.html"}},[e._v("Environment Variables")]),e._v(" page.")],1),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[e._v("Required variables")]),e._v(" "),t("p",[e._v("You're "),t("strong",[e._v("required")]),e._v(" to provide both "),t("code",[e._v("DIRECTUS_AUTH_SECRETKEY")]),e._v(" and "),t("code",[e._v("DIRECTUS_AUTH_PUBLICKEY")]),e._v(" when using environment variables in order to protect your directus installation, and they shouldn't be equal. The container won't boot if any of them are missing or equals.")])]),e._v(" "),t("h3",{attrs:{id:"disabling-environment-variables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#disabling-environment-variables"}},[e._v("#")]),e._v(" Disabling environment variables")]),e._v(" "),t("p",[e._v("To disable environment variable configuration, you should set "),t("code",[e._v("DIRECTUS_USE_ENV")]),e._v(" to "),t("code",[e._v("0")]),e._v(". This will make the container load configs from disk as the normal installation does.")]),e._v(" "),t("h2",{attrs:{id:"tags"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tags"}},[e._v("#")]),e._v(" Tags")]),e._v(" "),t("p",[e._v("We publish "),t("code",[e._v("directus/directus")]),e._v(" image with several different tags in order to separate the image backend and to allow users to pin a specific version of directus if needed.")]),e._v(" "),t("p",[e._v("Our tags follows the pattern "),t("code",[e._v("directus/directus:{version}-{kind}")]),e._v(" in which "),t("code",[e._v("{version}")]),e._v(" is replaced with the version information, and "),t("code",[e._v("{kind}")]),e._v(" is replaced with the image variant, for example "),t("code",[e._v("apache")]),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"kind"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kind"}},[e._v("#")]),e._v(" Kind")]),e._v(" "),t("p",[e._v("At this moment, we officially support only "),t("code",[e._v("apache")]),e._v(" images, but we'll expand to more backends as users request it.")]),e._v(" "),t("h3",{attrs:{id:"versions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#versions"}},[e._v("#")]),e._v(" Versions")]),e._v(" "),t("p",[e._v("For each release, we publish several different tags to allow version pinning of Directus. For example, whenever we make an "),t("code",[e._v("apache")]),e._v(" release containing Directus "),t("code",[e._v("vX.Y.Z")]),e._v(", three tags will be pushed to Docker Hub.")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("directus/directus:vX-apache")])]),e._v(" "),t("li",[t("code",[e._v("directus/directus:vX.Y-apache")])]),e._v(" "),t("li",[t("code",[e._v("directus/directus:vX.Y.Z-apache")])])]),e._v(" "),t("p",[e._v("These images will receive updates whenever a new release is made. You can update them by pulling the image again.")]),e._v(" "),t("h2",{attrs:{id:"ports"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ports"}},[e._v("#")]),e._v(" Ports")]),e._v(" "),t("p",[e._v("A Directus container will currently listen on port "),t("code",[e._v("80")]),e._v(".")]),e._v(" "),t("h2",{attrs:{id:"ssl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssl"}},[e._v("#")]),e._v(" SSL")]),e._v(" "),t("p",[e._v("The current container images don't provide SSL support out of the box. In order to do this, you can use a reverse proxy in front of the Directus container, like "),t("a",{attrs:{href:"https://docs.traefik.io/https/overview/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Traefik"),t("OutboundLink")],1),e._v(", "),t("a",{attrs:{href:"https://caddyserver.com/docs/automatic-https",target:"_blank",rel:"noopener noreferrer"}},[e._v("Caddy"),t("OutboundLink")],1),e._v(" or an external one like "),t("a",{attrs:{href:"https://cloudflare.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cloudflare"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h2",{attrs:{id:"volumes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#volumes"}},[e._v("#")]),e._v(" Volumes")]),e._v(" "),t("p",[e._v("The Directus image has some volumes that you might want to mount in order to keep your file uploads or configurations on disk.")]),e._v(" "),t("h3",{attrs:{id:"configuration-files"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration-files"}},[e._v("#")]),e._v(" Configuration files")]),e._v(" "),t("p",[e._v("The configuration directory lives in "),t("code",[e._v("/var/directus/config")]),e._v(". You can mount it in case you're configuring your container through files instead of environment variables.")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),t("p",[e._v("You don't have to worry about this when you're using environment variables to configure Directus projects.")])]),e._v(" "),t("h3",{attrs:{id:"uploads"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uploads"}},[e._v("#")]),e._v(" Uploads")]),e._v(" "),t("p",[e._v("The uploads directory lives in "),t("code",[e._v("/var/directus/public/uploads")]),e._v(". You can mount it to keep your uploads safe.")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("S3 Storage")]),e._v(" "),t("p",[e._v("To make your installation truly cloud-native, we highly recommend using a "),t("a",{attrs:{href:"/docker/environment#storage"}},[e._v("S3-compatible server for storage")]),e._v(".")])]),e._v(" "),t("h2",{attrs:{id:"examples"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),t("p",[e._v("You can find our official docker examples on "),t("a",{attrs:{href:"https://github.com/directus/docker",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub"),t("OutboundLink")],1),e._v(" under "),t("a",{attrs:{href:"https://github.com/directus/docker/tree/master/examples",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("examples")]),t("OutboundLink")],1),e._v(" directory.")]),e._v(" "),t("h2",{attrs:{id:"issues"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#issues"}},[e._v("#")]),e._v(" Issues")]),e._v(" "),t("p",[e._v("You can find our official docker repository in "),t("a",{attrs:{href:"https://github.com/directus/docker/",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub"),t("OutboundLink")],1),e._v(" under "),t("a",{attrs:{href:"https://github.com/directus/docker/",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("directus/docker")]),t("OutboundLink")],1),e._v(".")])])}),[],!1,null,null,null);t.default=s.exports}}]);