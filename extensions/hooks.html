<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hooks | Directus Docs</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <meta name="description" content="Directus 8. Future Proof Headless CMS for Managing Custom Database Content.">
    <meta name="application-name" content="Directus Docs">
    <meta name="theme-color" content="#263238">
    <meta name="apple-mobile-web-app-title" content="Directus Docs">
    <meta name="msapplication-TileColor" content="#263238">
    <meta name="msapplication-config" content="/browserconfig.xml">
    
    <link rel="preload" href="/assets/css/0.styles.2c78deb5.css" as="style"><link rel="preload" href="/assets/js/app.fad5d7fd.js" as="script"><link rel="preload" href="/assets/js/2.b0de1993.js" as="script"><link rel="preload" href="/assets/js/1.cf19b05a.js" as="script"><link rel="preload" href="/assets/js/90.4a302f56.js" as="script"><link rel="prefetch" href="/assets/js/10.6f23884a.js"><link rel="prefetch" href="/assets/js/100.947a2ca6.js"><link rel="prefetch" href="/assets/js/101.cb80f760.js"><link rel="prefetch" href="/assets/js/102.fd6aed3b.js"><link rel="prefetch" href="/assets/js/103.299cf835.js"><link rel="prefetch" href="/assets/js/104.bd409e9b.js"><link rel="prefetch" href="/assets/js/105.866752f5.js"><link rel="prefetch" href="/assets/js/106.f0251ee6.js"><link rel="prefetch" href="/assets/js/107.ad778a25.js"><link rel="prefetch" href="/assets/js/108.85ff2645.js"><link rel="prefetch" href="/assets/js/109.7ec76958.js"><link rel="prefetch" href="/assets/js/11.99a846c3.js"><link rel="prefetch" href="/assets/js/110.f5c84a9a.js"><link rel="prefetch" href="/assets/js/111.1a6da713.js"><link rel="prefetch" href="/assets/js/112.4b403729.js"><link rel="prefetch" href="/assets/js/113.161a7a2d.js"><link rel="prefetch" href="/assets/js/114.272b4004.js"><link rel="prefetch" href="/assets/js/115.fea73672.js"><link rel="prefetch" href="/assets/js/116.167ead58.js"><link rel="prefetch" href="/assets/js/117.35b84d7d.js"><link rel="prefetch" href="/assets/js/118.a5f9a66c.js"><link rel="prefetch" href="/assets/js/119.57ac8144.js"><link rel="prefetch" href="/assets/js/12.fe1d5e51.js"><link rel="prefetch" href="/assets/js/120.190cfd35.js"><link rel="prefetch" href="/assets/js/121.cd40c13a.js"><link rel="prefetch" href="/assets/js/122.7fbaf0c5.js"><link rel="prefetch" href="/assets/js/13.fc4ca263.js"><link rel="prefetch" href="/assets/js/16.30e0e122.js"><link rel="prefetch" href="/assets/js/17.0fd2a8ac.js"><link rel="prefetch" href="/assets/js/18.25614d0d.js"><link rel="prefetch" href="/assets/js/19.920da6e9.js"><link rel="prefetch" href="/assets/js/20.f580d7a0.js"><link rel="prefetch" href="/assets/js/21.d6262545.js"><link rel="prefetch" href="/assets/js/22.dc4eccb8.js"><link rel="prefetch" href="/assets/js/23.c80a9c85.js"><link rel="prefetch" href="/assets/js/24.f4432ac8.js"><link rel="prefetch" href="/assets/js/25.f5d5291d.js"><link rel="prefetch" href="/assets/js/26.43486af1.js"><link rel="prefetch" href="/assets/js/27.8a20faa3.js"><link rel="prefetch" href="/assets/js/28.55953db8.js"><link rel="prefetch" href="/assets/js/29.c69efdc9.js"><link rel="prefetch" href="/assets/js/3.2714d4b3.js"><link rel="prefetch" href="/assets/js/30.98921536.js"><link rel="prefetch" href="/assets/js/31.d4e4facd.js"><link rel="prefetch" href="/assets/js/32.3301d2e2.js"><link rel="prefetch" href="/assets/js/33.be9ae374.js"><link rel="prefetch" href="/assets/js/34.6a8823f4.js"><link rel="prefetch" href="/assets/js/35.756cb774.js"><link rel="prefetch" href="/assets/js/36.02423b16.js"><link rel="prefetch" href="/assets/js/37.ebe4e17a.js"><link rel="prefetch" href="/assets/js/38.36c5ee5e.js"><link rel="prefetch" href="/assets/js/39.fb0f5b4a.js"><link rel="prefetch" href="/assets/js/4.46ba42e3.js"><link rel="prefetch" href="/assets/js/40.f1570932.js"><link rel="prefetch" href="/assets/js/41.5a9b1d5a.js"><link rel="prefetch" href="/assets/js/42.48ccb2a4.js"><link rel="prefetch" href="/assets/js/43.d6c954d3.js"><link rel="prefetch" href="/assets/js/44.ebb58a26.js"><link rel="prefetch" href="/assets/js/45.24e9dd8c.js"><link rel="prefetch" href="/assets/js/46.7e3fbe28.js"><link rel="prefetch" href="/assets/js/47.fe1d4448.js"><link rel="prefetch" href="/assets/js/48.8fb9d084.js"><link rel="prefetch" href="/assets/js/49.b1ce3ca5.js"><link rel="prefetch" href="/assets/js/5.ef598936.js"><link rel="prefetch" href="/assets/js/50.f4ff1ae6.js"><link rel="prefetch" href="/assets/js/51.f0525890.js"><link rel="prefetch" href="/assets/js/52.629d1537.js"><link rel="prefetch" href="/assets/js/53.7bc021d8.js"><link rel="prefetch" href="/assets/js/54.582e3cd0.js"><link rel="prefetch" href="/assets/js/55.0682e7ad.js"><link rel="prefetch" href="/assets/js/56.29b777c1.js"><link rel="prefetch" href="/assets/js/57.f2a9c704.js"><link rel="prefetch" href="/assets/js/58.3b091f0d.js"><link rel="prefetch" href="/assets/js/59.72fa852e.js"><link rel="prefetch" href="/assets/js/6.af951f47.js"><link rel="prefetch" href="/assets/js/60.6bb114cd.js"><link rel="prefetch" href="/assets/js/61.945c9ae6.js"><link rel="prefetch" href="/assets/js/62.5b59ef4b.js"><link rel="prefetch" href="/assets/js/63.09e4c80b.js"><link rel="prefetch" href="/assets/js/64.1c0c7386.js"><link rel="prefetch" href="/assets/js/65.ac95aaf1.js"><link rel="prefetch" href="/assets/js/66.4f6f9048.js"><link rel="prefetch" href="/assets/js/67.ac81d8d4.js"><link rel="prefetch" href="/assets/js/68.03a6d412.js"><link rel="prefetch" href="/assets/js/69.5f580eba.js"><link rel="prefetch" href="/assets/js/7.8cc0d14b.js"><link rel="prefetch" href="/assets/js/70.1c23a2bb.js"><link rel="prefetch" href="/assets/js/71.14a8bebe.js"><link rel="prefetch" href="/assets/js/72.5dbf67d5.js"><link rel="prefetch" href="/assets/js/73.cee1543b.js"><link rel="prefetch" href="/assets/js/74.f4371a18.js"><link rel="prefetch" href="/assets/js/75.885d58db.js"><link rel="prefetch" href="/assets/js/76.c523732d.js"><link rel="prefetch" href="/assets/js/77.cc2a910a.js"><link rel="prefetch" href="/assets/js/78.d52e9890.js"><link rel="prefetch" href="/assets/js/79.ad986f82.js"><link rel="prefetch" href="/assets/js/8.a14efbad.js"><link rel="prefetch" href="/assets/js/80.1595a6c6.js"><link rel="prefetch" href="/assets/js/81.e29e74df.js"><link rel="prefetch" href="/assets/js/82.aa69b99e.js"><link rel="prefetch" href="/assets/js/83.7b3e2419.js"><link rel="prefetch" href="/assets/js/84.64b75542.js"><link rel="prefetch" href="/assets/js/85.5b34a473.js"><link rel="prefetch" href="/assets/js/86.4cb3009a.js"><link rel="prefetch" href="/assets/js/87.df4595ec.js"><link rel="prefetch" href="/assets/js/88.09ed167c.js"><link rel="prefetch" href="/assets/js/89.1a837824.js"><link rel="prefetch" href="/assets/js/9.3abffec5.js"><link rel="prefetch" href="/assets/js/91.0cae8df1.js"><link rel="prefetch" href="/assets/js/92.3918817c.js"><link rel="prefetch" href="/assets/js/93.b6936f75.js"><link rel="prefetch" href="/assets/js/94.60901b04.js"><link rel="prefetch" href="/assets/js/95.c6bfccdf.js"><link rel="prefetch" href="/assets/js/96.91c1f78a.js"><link rel="prefetch" href="/assets/js/97.ad5cdc57.js"><link rel="prefetch" href="/assets/js/98.c1efbca8.js"><link rel="prefetch" href="/assets/js/99.70855b8a.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d813adee.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2c78deb5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Directus Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://directus.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://directus.cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://directus.app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Demo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/directus/directus-8-legacy" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://directus.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://directus.cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://directus.app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Demo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/directus/directus-8-legacy" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>🐰 Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/getting-started/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/getting-started/installation.html" class="sidebar-link">Installation</a></li><li><a href="/getting-started/contributing.html" class="sidebar-link">Contributing</a></li><li><a href="/getting-started/supporting-directus.html" class="sidebar-link">Supporting Directus</a></li><li><a href="/getting-started/troubleshooting.html" class="sidebar-link">Troubleshooting</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📖 Guides</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🚀 API Reference</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>🦄 Extensions</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/extensions/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/extensions/auth-providers.html" class="sidebar-link">Auth Providers</a></li><li><a href="/extensions/custom-endpoints.html" class="sidebar-link">Custom Endpoints</a></li><li><a href="/extensions/hooks.html" aria-current="page" class="active sidebar-link">Hooks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/extensions/hooks.html#creating-hooks" class="sidebar-link">Creating Hooks</a></li><li class="sidebar-sub-header"><a href="/extensions/hooks.html#reference" class="sidebar-link">Reference</a></li><li class="sidebar-sub-header"><a href="/extensions/hooks.html#web-hooks" class="sidebar-link">Web Hooks</a></li><li class="sidebar-sub-header"><a href="/extensions/hooks.html#custom-validation" class="sidebar-link">Custom Validation</a></li><li class="sidebar-sub-header"><a href="/extensions/hooks.html#custom-error-logs" class="sidebar-link">Custom Error Logs</a></li></ul></li><li><a href="/extensions/interfaces.html" class="sidebar-link">Interfaces</a></li><li><a href="/extensions/layouts.html" class="sidebar-link">Layouts</a></li><li><a href="/extensions/modules.html" class="sidebar-link">Modules</a></li><li><a href="/extensions/storage-adapters.html" class="sidebar-link">Storage Adapters</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🐳 Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>⚡️ Advanced</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>☁️ Directus Cloud</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hooks"><a href="#hooks" class="header-anchor">#</a> Hooks</h1> <blockquote><p>Directus provides event hooks for all actions performed within the App or API. You can use these hooks to run any arbitrary code when a certain thing in the system happens. You can use this for automated build triggers, webhooks, or other automated systems.</p></blockquote> <p>Hooks are created as functions that are triggered when certain events happen, for example:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
  <span class="token string single-quoted-string">'actions'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'item.create.articles'</span> <span class="token operator">=&gt;</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token variable">$content</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'New article was created with the title: '</span> <span class="token operator">.</span> <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token function">notify</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'admin@example.com'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'New Article'</span><span class="token punctuation">,</span> <span class="token variable">$content</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 id="creating-hooks"><a href="#creating-hooks" class="header-anchor">#</a> Creating Hooks</h2> <p>To add a hook, you create a PHP file in the <code>/public/extensions/custom/hooks/</code> folder, for example <code>/public/extensions/custom/hooks/my-hook.php</code>. This file will need to return an array that contains functions for each of the events you'd like to listen to:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
  <span class="token string single-quoted-string">'actions'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'application.error'</span> <span class="token operator">=&gt;</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Exception</span> <span class="token variable">$error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Do something</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token string single-quoted-string">'filters'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'item.create.articles:before'</span> <span class="token operator">=&gt;</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified type-declaration"><span class="token punctuation">\</span>Directus<span class="token punctuation">\</span>Hook<span class="token punctuation">\</span>Payload</span> <span class="token variable">$payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Edit $payload before returning it</span>
      <span class="token keyword">return</span> <span class="token variable">$payload</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><h4 id="below-is-the-list-of-action-hooks"><a href="#below-is-the-list-of-action-hooks" class="header-anchor">#</a> Below is the list of action hooks</h4> <table><thead><tr><th>Action Hook</th> <th>Parameters</th></tr></thead> <tbody><tr><td><code>item.create:before</code></td> <td><code>($collectionName,$data)</code></td></tr> <tr><td><code>item.create</code></td> <td><code>($collectionName,$data)</code></td></tr> <tr><td><code>item.create:after</code></td> <td><code>($collectionName,$data)</code></td></tr> <tr><td><code>item.create.collection_name:before</code></td> <td><code>($data)</code></td></tr> <tr><td><code>item.create.collection_name</code></td> <td><code>($data)</code></td></tr> <tr><td><code>item.create.collection_name:after</code></td> <td><code>($data)</code></td></tr></tbody></table> <h3 id="multiple-files"><a href="#multiple-files" class="header-anchor">#</a> Multiple Files</h3> <p>Sometimes, you might want to split up your hook into multiple files in order to make your main Hook smaller, or to introduce external libraries into the Hook. In order to do this, you can create a folder instead of a single PHP file that contains the file you need.</p> <p>The API will use the file called <code>hooks.php</code> as the entry point for your folder-based hook.</p> <div class="language- extra-class"><pre class="language-text"><code>/public/extensions/custom/hooks/send-email.php

becomes

/public/extensions/custom/hooks/send-email/hooks.php
</code></pre></div><h3 id="modules-layouts-and-interfaces"><a href="#modules-layouts-and-interfaces" class="header-anchor">#</a> Modules, Layouts, and Interfaces</h3> <p>If you're creating a custom Module, Layout, or Interface, you might want to add additional custom Hooks in order to process data send or retrieved for the extension. Modules, Interfaces, and Layouts support their own Hooks by adding a <code>hooks.php</code> file to the extension folder. The format is the same as a regular Hook.</p> <h2 id="reference"><a href="#reference" class="header-anchor">#</a> Reference</h2> <h3 id="action-hooks"><a href="#action-hooks" class="header-anchor">#</a> Action Hooks</h3> <p>Action Hooks execute a piece of code <em>without</em> altering the data being passed through it. For example, an Action Hook might send an email to a user when an new article is created. Below is a listing of actions that fire an event.</p> <table><thead><tr><th>Name</th> <th>Description</th></tr></thead> <tbody><tr><td><code>application.boot</code></td> <td>Before all endpoints are set. The app object is passed.</td></tr> <tr><td><code>application.error</code></td> <td>An app exception has been thrown. The exception object is passed.</td></tr> <tr><td><code>auth.request:credentials</code></td> <td>User requested token via credentials. The user object is passed.</td></tr> <tr><td><code>auth.success</code></td> <td>User authenticated successfully. The user object is passed.</td></tr> <tr><td><code>auth.fail</code></td> <td>User authentication failed. Exception object is passed.</td></tr> <tr><td><code>collection.create</code></td> <td>Collection is created. Collection's name passed. Supports <code>:before</code> and <code>:after</code> (default)</td></tr> <tr><td><code>collection.update</code></td> <td>Collection is updated. Collection's name passed. Supports <code>:before</code> and <code>:after</code> (default)</td></tr> <tr><td><code>collection.delete</code></td> <td>Collection is deleted. Collection's name passed. Supports <code>:before</code> and <code>:after</code> (default)</td></tr> <tr><td><code>field.create</code></td> <td>Field is created. You can also limit to a specific collection with <code>field.create.[collection-name]</code>. Collection's name (<em>When not specific to a collection</em>), Field's name and new data passed. Supports <code>:before</code> and <code>:after</code> (default)</td></tr> <tr><td><code>field.update</code></td> <td>Field is updated. You can also limit to a specific collection with <code>field.update.[collection-name]</code>. Collection's name (<em>When not specific to a collection</em>), Field's name and data passed. Supports <code>:before</code> and <code>:after</code> (default)</td></tr> <tr><td><code>field.delete</code></td> <td>Field is deleted. You can also limit to a specific collection with <code>field.delete.[collection-name]</code>. Collection's name (<em>When not specific to a collection</em>), Field's name passed. Supports <code>:before</code> and <code>:after</code> (default)</td></tr> <tr><td><code>item.create</code></td> <td>Item is created. You can also limit to a specific collection using <code>item.create.[collection-name]</code>. Item data passed. Supports <code>:before</code> and <code>:after</code> (default)</td></tr> <tr><td><code>item.read</code></td> <td>Item is read. You can also limit to a specific collection using <code>item.read.[collection-name]</code>. Item data passed. Supports <code>:before</code> and <code>:after</code> (default)</td></tr> <tr><td><code>item.update</code></td> <td>Item is updated. You can also limit to a specific collection using <code>item.update.[collection-name]</code>. Item data passed. Supports <code>:before</code> and <code>:after</code> (default)</td></tr> <tr><td><code>item.delete</code></td> <td>Item is deleted. You can also limit to a specific collection using <code>item.delete.[collection-name]</code>. Item data passed. Supports <code>:before</code> and <code>:after</code> (default)</td></tr> <tr><td><code>file.save</code></td> <td>File is saved. File data passed. Supports <code>:before</code> and <code>:after</code> (default)</td></tr> <tr><td><code>file.delete</code></td> <td>File is deleted. File data passed. Supports <code>:before</code> and <code>:after</code> (default)</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">Before or After Event</p> <p>By default, the Hooks above occur <em>after</em> an event has happened. You can append <code>:before</code> or <code>:after</code> to the end to explicitly specify when the Hook should fire.</p></div> <h4 id="example"><a href="#example" class="header-anchor">#</a> Example</h4> <p>In this example we'll notify an email address every time a new article is created.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
  <span class="token string single-quoted-string">'actions'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'item.create.articles'</span> <span class="token operator">=&gt;</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token variable">$content</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'New article was created with the title: '</span> <span class="token operator">.</span> <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token function">notify</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'admin@example.com'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'New Article'</span><span class="token punctuation">,</span> <span class="token variable">$content</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><h3 id="filter-hooks"><a href="#filter-hooks" class="header-anchor">#</a> Filter Hooks</h3> <p>Filter Hooks are similar to Actions but alter the data that passes through it. For example a Filter Hook might set a UUID for a new article before it is stored in the database.</p> <table><thead><tr><th>Name</th> <th>Description</th></tr></thead> <tbody><tr><td><code>item.create:before</code></td> <td>Item is created. You can also limit to a specific collection using <code>item.create.[collection-name]:before</code>. Supports <code>:before</code> (has to be set explicitly)</td></tr> <tr><td><code>item.read</code></td> <td>Item is read. You can also limit to a specific collection using <code>item.read.[collection-name]</code>. Supports <code>:after</code> (default)</td></tr> <tr><td><code>item.update:before</code></td> <td>Item is updated. You can also limit to a specific collection using <code>item.update.[collection-name]:before</code>. Supports <code>:before</code> (has to be set explicitly)</td></tr> <tr><td><code>response</code></td> <td>Before adding the content into the HTTP response body. You can also limit to a specific collection using <code>response.[collection-name]</code>.</td></tr> <tr><td><code>response.[method]</code></td> <td>Same as <code>response</code> but only executes for a specific http method, such as <code>GET, POST, DELETE, PATCH, PUT, OPTIONS</code>. You can also limit to a specific collection using <code>response.[method].[collection-name]</code>.</td></tr></tbody></table> <h4 id="example-2"><a href="#example-2" class="header-anchor">#</a> Example</h4> <p>In this example we'll generate and set a <code>uuid</code> right before every article is created.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
  <span class="token string single-quoted-string">'filters'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'item.create.articles:before'</span> <span class="token operator">=&gt;</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified type-declaration"><span class="token punctuation">\</span>Directus<span class="token punctuation">\</span>Hook<span class="token punctuation">\</span>Payload</span> <span class="token variable">$payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token variable">$payload</span><span class="token operator">-&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'uuid'</span><span class="token punctuation">,</span> <span class="token function"><span class="token punctuation">\</span>Directus<span class="token punctuation">\</span>generate_uuid4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token variable">$payload</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><h4 id="useful-methods-when-working-with-the-payload"><a href="#useful-methods-when-working-with-the-payload" class="header-anchor">#</a> Useful Methods when working with the Payload</h4> <table><thead><tr><th>Name</th> <th>Description</th></tr></thead> <tbody><tr><td><code>getData()</code></td> <td>Get the payload data</td></tr> <tr><td><code>attribute($key)</code></td> <td>Get an attribute key. eg: <code>$payload-&gt;attribute('collection_name')</code></td></tr> <tr><td><code>get($key)</code></td> <td>Get an element by its key</td></tr> <tr><td><code>set($key, $value)</code></td> <td>Set or update new value into the given key</td></tr> <tr><td><code>has($key)</code></td> <td>Check whether or not the payload data has the given key set</td></tr> <tr><td><code>remove($key)</code></td> <td>Remove an element with the given key</td></tr> <tr><td><code>isEmpty()</code></td> <td>Check whether the payload data is empty</td></tr> <tr><td><code>replace($newDataArray)</code></td> <td>Replace the payload data with a new data array</td></tr> <tr><td><code>clear()</code></td> <td>Remove all data from the payload</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">Dot Notation</p> <p><code>get()</code> and <code>has()</code> method can use dot-notation to access child elements. eg: <code>get('data.email')</code>.</p></div> <div class="custom-block tip"><p class="custom-block-title">Payload Object</p> <p><code>Payload</code> object is <code>Arrayable</code> which means you can interact with the data as an array <code>$payload['data']['email]</code></p></div> <div class="custom-block warning"><p class="custom-block-title">System Collections</p> <p>Directus <em>system</em> collections also trigger filters, remember to omit them in your filter to prevent damage to the system.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Directus<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Schema<span class="token punctuation">\</span>SchemaManager</span><span class="token punctuation">;</span>

<span class="token variable">$collectionName</span> <span class="token operator">=</span> <span class="token variable">$payload</span><span class="token operator">-&gt;</span><span class="token function">attribute</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'collection_name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$collectionName</span><span class="token punctuation">,</span> <span class="token class-name static-context">SchemaManager</span><span class="token operator">::</span><span class="token function">getSystemCollections</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$payload</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div></div> <h2 id="web-hooks"><a href="#web-hooks" class="header-anchor">#</a> Web Hooks</h2> <p>Directus natively supports webhooks. They can be configured from the Settings panel of the admin app. If those hooks aren't flexible enough, you can use API Hooks to create your own:</p> <p>Simply include an HTTP POST that includes the desired data within the event. We've included a <a href="https://github.com/directus/api/blob/76413ea8f5b3bf7e90f84a76858ab18c7fc0db67/public/extensions/custom/hooks/_webhook/hooks.php" target="_blank" rel="noopener noreferrer">disabled example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in the codebase to help you get started.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
  <span class="token string single-quoted-string">'actions'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token comment">// Post a web callback when an article is created</span>
    <span class="token string single-quoted-string">'item.create.articles'</span> <span class="token operator">=&gt;</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$collectionName</span><span class="token punctuation">,</span> <span class="token keyword type-hint">array</span> <span class="token variable">$data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>GuzzleHttp<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'base_uri'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'https://example.com'</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'type'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'post'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'data'</span> <span class="token operator">=&gt;</span> <span class="token variable">$data</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">;</span>

      <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$client</span><span class="token operator">-&gt;</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'POST'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'alert'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'json'</span> <span class="token operator">=&gt;</span> <span class="token variable">$data</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 id="custom-validation"><a href="#custom-validation" class="header-anchor">#</a> Custom Validation</h2> <p>By using Hooks, you can setup your own custom validation. Below is an example how you can use a RegEx to validate a field using custom rules.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>NOTE: Make sure to validate using <code>:before</code> to make sure to validate <em>before</em> the data is added into the collection.</p></div> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
  <span class="token string single-quoted-string">'filters'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'item.create.articles:before'</span> <span class="token operator">=&gt;</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified type-declaration"><span class="token punctuation">\</span>Directus<span class="token punctuation">\</span>Hook<span class="token punctuation">\</span>Payload</span> <span class="token variable">$payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$payload</span><span class="token operator">-&gt;</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'uuid'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Directus<span class="token punctuation">\</span>Exception<span class="token punctuation">\</span>UnprocessableEntityException</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Users are not allowed to set UUID'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token variable">$title</span> <span class="token operator">=</span> <span class="token variable">$payload</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$title</span> <span class="token operator">||</span> <span class="token class-name">strlen</span><span class="token punctuation">(</span><span class="token variable">$title</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Directus<span class="token punctuation">\</span>Exception<span class="token punctuation">\</span>UnprocessableEntityException</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Article title is too short. Expecting at least 10 characters.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/[^a-z0-9]/i'</span><span class="token punctuation">,</span> <span class="token variable">$title</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Directus<span class="token punctuation">\</span>Exception<span class="token punctuation">\</span>UnprocessableEntityException</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Article title has invalid characters. Only alphanumeric characters are allowed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token variable">$payload</span><span class="token operator">-&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'uuid'</span><span class="token punctuation">,</span> <span class="token function"><span class="token punctuation">\</span>Directus<span class="token punctuation">\</span>generate_uuid4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token variable">$payload</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 id="custom-error-logs"><a href="#custom-error-logs" class="header-anchor">#</a> Custom Error Logs</h2> <p>In order to send the API error logs to an external service, you can use a Hook as well:</p> <p>Example:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
  <span class="token string single-quoted-string">'actions'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token comment">// Post a web callback when an article is created</span>
    <span class="token string single-quoted-string">'item.create.articles'</span> <span class="token operator">=&gt;</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$collectionName</span><span class="token punctuation">,</span> <span class="token keyword type-hint">array</span> <span class="token variable">$data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>GuzzleHttp<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'base_uri'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'https://example.com'</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$client</span><span class="token operator">-&gt;</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'POST'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'alert'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
          <span class="token string single-quoted-string">'json'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'type'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'post'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'data'</span> <span class="token operator">=&gt;</span> <span class="token variable">$data</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// use your own logger</span>
        <span class="token comment">// log_write($e);</span>
        <span class="token comment">// Or</span>
        <span class="token variable">$container</span> <span class="token operator">=</span> <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\</span>Directus<span class="token punctuation">\</span>Application<span class="token punctuation">\</span>Application</span><span class="token operator">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Monolog\Logger instance</span>
        <span class="token variable">$logger</span> <span class="token operator">=</span> <span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token function">fromContainer</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'logger'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$logger</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// beside error there are:</span>
        <span class="token comment">// debug, info, notice, warning, critical, alert, and emergency methods</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/directus/directus-8-legacy/edit/master/extensions/hooks.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/5/2024, 4:29:14 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/extensions/custom-endpoints.html" class="prev">
        Custom Endpoints
      </a></span> <span class="next"><a href="/extensions/interfaces.html">
        Interfaces
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fad5d7fd.js" defer></script><script src="/assets/js/2.b0de1993.js" defer></script><script src="/assets/js/1.cf19b05a.js" defer></script><script src="/assets/js/90.4a302f56.js" defer></script>
  </body>
</html>
